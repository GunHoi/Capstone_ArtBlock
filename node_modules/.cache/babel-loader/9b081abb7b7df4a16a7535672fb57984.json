{"ast":null,"code":"$('.page-indicator > ul > li > a').click(function (e) {\n  var href = $(this).attr('href');\n  var targetTop = $(href).offset().top;\n  /*\r\n  // 한번에 가도록 하는 방법\r\n  $(window).scrollTop(targetTop);\r\n  */\n\n  $('html').stop().animate({\n    scrollTop: targetTop\n  }, 300);\n  e.preventDefault();\n});\n\nfunction Page__updateIndicatorActive() {\n  var scrollTop = $(window).scrollTop(); // 역순으로 검색해야 편하다\n\n  $($('.page').get().reverse()).each(function (index, node) {\n    var $node = $(this);\n    var offsetTop = parseInt($node.attr('data-offset-top'));\n\n    if (scrollTop >= offsetTop) {\n      // 기존 녀석에게 활성화 풀고\n      $('.page-indicator > ul > li.active').removeClass('active'); // 해당하는 녀석에게 활성화 넣고\n\n      var currentPageIndex = $node.index();\n      $('.page-indicator > ul > li').eq(currentPageIndex).addClass('active');\n      $('html').attr('data-current-page-index', currentPageIndex);\n      return false; // 더 이상 다른 페이지를 검사하지 않는다.\n    }\n  });\n} // 각 페이지의 offsetTop 속성을 업데이트\n\n\nfunction Page__updateOffsetTop() {\n  $('.page').each(function (index, node) {\n    var $page = $(node);\n    var offsetTop = $page.offset().top;\n    $page.attr('data-offset-top', offsetTop);\n  }); // 계산이 바뀌었으니까, 다시 상태 업데이트\n\n  Page__updateIndicatorActive();\n}\n\nfunction Page__init() {\n  Page__updateOffsetTop();\n} // 초기화\n\n\nPage__init(); // 화면이 리사이즈 할 때 마다, offsetTop을 다시계산\n\n$(window).resize(Page__updateOffsetTop); // 스크롤이 될 때 마다, 인디케이터의 상태를 갱신\n\n$(window).scroll(Page__updateIndicatorActive);","map":{"version":3,"sources":["C:/CapStone/artblock/src/js/PageIndicator.js"],"names":["$","click","e","href","attr","targetTop","offset","top","stop","animate","scrollTop","preventDefault","Page__updateIndicatorActive","window","get","reverse","each","index","node","$node","offsetTop","parseInt","removeClass","currentPageIndex","eq","addClass","Page__updateOffsetTop","$page","Page__init","resize","scroll"],"mappings":"AAAAA,CAAC,CAAC,+BAAD,CAAD,CAAmCC,KAAnC,CAAyC,UAASC,CAAT,EAAY;AACjD,MAAIC,IAAI,GAAGH,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,MAAb,CAAX;AAEA,MAAIC,SAAS,GAAGL,CAAC,CAACG,IAAD,CAAD,CAAQG,MAAR,GAAiBC,GAAjC;AAEA;AACJ;AACA;AACA;;AAEIP,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAUQ,IAAV,GAAiBC,OAAjB,CAAyB;AAACC,IAAAA,SAAS,EAACL;AAAX,GAAzB,EAAgD,GAAhD;AAEAH,EAAAA,CAAC,CAACS,cAAF;AACH,CAbD;;AAeA,SAASC,2BAAT,GAAuC;AACnC,MAAIF,SAAS,GAAGV,CAAC,CAACa,MAAD,CAAD,CAAUH,SAAV,EAAhB,CADmC,CAGnC;;AACAV,EAAAA,CAAC,CAACA,CAAC,CAAC,OAAD,CAAD,CAAWc,GAAX,GAAiBC,OAAjB,EAAD,CAAD,CAA8BC,IAA9B,CAAmC,UAASC,KAAT,EAAgBC,IAAhB,EAAsB;AACrD,QAAIC,KAAK,GAAGnB,CAAC,CAAC,IAAD,CAAb;AACA,QAAIoB,SAAS,GAAGC,QAAQ,CAACF,KAAK,CAACf,IAAN,CAAW,iBAAX,CAAD,CAAxB;;AAEA,QAAKM,SAAS,IAAIU,SAAlB,EAA8B;AAC1B;AACApB,MAAAA,CAAC,CAAC,kCAAD,CAAD,CAAsCsB,WAAtC,CAAkD,QAAlD,EAF0B,CAG1B;;AAEA,UAAIC,gBAAgB,GAAGJ,KAAK,CAACF,KAAN,EAAvB;AACAjB,MAAAA,CAAC,CAAC,2BAAD,CAAD,CAA+BwB,EAA/B,CAAkCD,gBAAlC,EAAoDE,QAApD,CAA6D,QAA7D;AAEAzB,MAAAA,CAAC,CAAC,MAAD,CAAD,CAAUI,IAAV,CAAe,yBAAf,EAA0CmB,gBAA1C;AAEA,aAAO,KAAP,CAV0B,CAUZ;AACjB;AACJ,GAhBD;AAiBH,C,CAED;;;AACA,SAASG,qBAAT,GAAiC;AAE7B1B,EAAAA,CAAC,CAAC,OAAD,CAAD,CAAWgB,IAAX,CAAgB,UAASC,KAAT,EAAgBC,IAAhB,EAAsB;AAClC,QAAIS,KAAK,GAAG3B,CAAC,CAACkB,IAAD,CAAb;AACA,QAAIE,SAAS,GAAGO,KAAK,CAACrB,MAAN,GAAeC,GAA/B;AAEAoB,IAAAA,KAAK,CAACvB,IAAN,CAAW,iBAAX,EAA8BgB,SAA9B;AACH,GALD,EAF6B,CAS7B;;AACAR,EAAAA,2BAA2B;AAC9B;;AAED,SAASgB,UAAT,GAAsB;AAClBF,EAAAA,qBAAqB;AACxB,C,CAED;;;AACAE,UAAU,G,CAEV;;AACA5B,CAAC,CAACa,MAAD,CAAD,CAAUgB,MAAV,CAAiBH,qBAAjB,E,CAEA;;AACA1B,CAAC,CAACa,MAAD,CAAD,CAAUiB,MAAV,CAAiBlB,2BAAjB","sourcesContent":["$('.page-indicator > ul > li > a').click(function(e) {\r\n    var href = $(this).attr('href');\r\n    \r\n    var targetTop = $(href).offset().top;\r\n    \r\n    /*\r\n    // 한번에 가도록 하는 방법\r\n    $(window).scrollTop(targetTop);\r\n    */\r\n    \r\n    $('html').stop().animate({scrollTop:targetTop}, 300);\r\n    \r\n    e.preventDefault();\r\n});\r\n\r\nfunction Page__updateIndicatorActive() {\r\n    var scrollTop = $(window).scrollTop();\r\n    \r\n    // 역순으로 검색해야 편하다\r\n    $($('.page').get().reverse()).each(function(index, node) {\r\n        var $node = $(this);\r\n        var offsetTop = parseInt($node.attr('data-offset-top'));\r\n        \r\n        if ( scrollTop >= offsetTop ) {\r\n            // 기존 녀석에게 활성화 풀고\r\n            $('.page-indicator > ul > li.active').removeClass('active');\r\n            // 해당하는 녀석에게 활성화 넣고\r\n            \r\n            var currentPageIndex = $node.index();\r\n            $('.page-indicator > ul > li').eq(currentPageIndex).addClass('active');\r\n            \r\n            $('html').attr('data-current-page-index', currentPageIndex);\r\n            \r\n            return false; // 더 이상 다른 페이지를 검사하지 않는다.\r\n        }\r\n    });\r\n}\r\n\r\n// 각 페이지의 offsetTop 속성을 업데이트\r\nfunction Page__updateOffsetTop() {\r\n    \r\n    $('.page').each(function(index, node) {\r\n        var $page = $(node);\r\n        var offsetTop = $page.offset().top;\r\n        \r\n        $page.attr('data-offset-top', offsetTop);\r\n    });\r\n    \r\n    // 계산이 바뀌었으니까, 다시 상태 업데이트\r\n    Page__updateIndicatorActive();\r\n}\r\n\r\nfunction Page__init() {\r\n    Page__updateOffsetTop();\r\n}\r\n\r\n// 초기화\r\nPage__init();\r\n\r\n// 화면이 리사이즈 할 때 마다, offsetTop을 다시계산\r\n$(window).resize(Page__updateOffsetTop);\r\n\r\n// 스크롤이 될 때 마다, 인디케이터의 상태를 갱신\r\n$(window).scroll(Page__updateIndicatorActive);"]},"metadata":{},"sourceType":"script"}