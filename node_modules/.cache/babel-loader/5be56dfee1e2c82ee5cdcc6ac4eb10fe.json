{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport SearchBar from '../components/SearchBar.vue';\nimport MugenScroll from 'vue-mugen-scroll';\nimport nftData from '../js/nftData';\nimport EventBus from '../js/EventBus';\nexport default {\n  data: function data() {\n    // do not run handler when it's loading\n    return {\n      receivedClickCount: 0,\n      posts: [],\n      count: 0,\n      flag: 100,\n      keyword: '',\n      pushcount: 0,\n      loading: false\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.getPosts();\n    EventBus.$on('use-eventbus', function (clickedCount) {\n      _this.receivedClickCount = clickedCount;\n      console.log(\"이벤트 잘 받았음\" + clickedCount);\n    });\n    EventBus.$on('event-flag', function (flag) {\n      _this.flag = flag;\n      console.log(flag);\n    });\n    EventBus.$on('event-keyword', function (keyword) {\n      _this.keyword = keyword;\n      var length = nftData.length * _this.pushcount;\n\n      for (var i = 0; i < length; i++) {\n        _this.posts.pop(nftData[i]);\n      }\n\n      _this.searchPosts();\n    });\n  },\n  methods: {\n    fetchData: function fetchData() {\n      this.loading = true;\n\n      for (var i = 0; i < 30; i++) {\n        this.posts.push(nftData[i]);\n      }\n\n      this.loading = false;\n    },\n    getPosts: function getPosts() {\n      for (var i = 0; i < nftData.length; i++) {\n        this.pushcount = this.posts.length + i;\n        this.posts.push(nftData[i]);\n      }\n    },\n    searchPosts: function searchPosts() {\n      console.log(\"키워드:\" + this.keyword);\n      console.log(\"플래그:\" + this.flag);\n\n      for (var i = 0; i < nftData.length; i++) {\n        if (this.flag == 1) {\n          //1은 제목\n          if (nftData[i].title.includes(this.keyword)) {\n            this.posts.push(nftData[i]);\n            this.pushcount++;\n          }\n        } else if (this.flag == 2) {\n          //2는 스트리머\n          if (nftData[i].streamer.includes(this.keyword)) {\n            this.posts.push(nftData[i]);\n            this.pushcount++;\n          }\n        } else if (this.flag == 3) {\n          //3는 등록자\n          if (nftData[i].maker.includes(this.keyword)) {\n            this.posts.push(nftData[i]);\n            this.pushcount++;\n          }\n        } else if (this.flag == 0) {\n          //0은 통합검색\n          console.log(nftData[i].title.includes(this.keyword) + \"타이틀\");\n          console.log(nftData[i].streamer.includes(this.keyword) + \"스트리머\");\n          console.log(nftData[i].maker.includes(this.keyword) + \"메이커\");\n\n          if (nftData[i].title.includes(this.keyword) || nftData[i].streamer.includes(this.keyword) || nftData[i].maker.includes(this.keyword)) {\n            this.posts.push(nftData[i]);\n            this.pushcount++;\n            this.count++;\n            console.log(this.count + \"가능\");\n          } else {\n            this.count++;\n            console.log(this.count + \"결과가 없어요.\");\n          }\n          /*\n          if ((nftData[i].title).includes(this.keyword)){\n            this.posts.push(nftData[i])\n            this.pushcount++;\n            this.count++;\n            console.log(this.count+\"title 가능\")\n          }\n          else if ((nftData[i].streamer).includes(this.keyword)){\n            this.posts.push(nftData[i])\n            this.pushcount++;\n            this.count++;\n            console.log(this.count+\"streamer 가능\")\n          }\n          else if ((nftData[i].maker).includes(this.keyword)){\n            this.posts.push(nftData[i])\n            this.pushcount++;\n            this.count++;\n            console.log(this.count+\"maker 가능\")\n          }\n          else{\n            this.count++;\n            console.log(this.count+\"결과가 없어요.\");\n          }*/\n\n        } else {\n          this.posts.push(nftData[i]);\n          this.pushcount++;\n        }\n      }\n\n      this.loading = true;\n    }\n  },\n  components: {\n    MugenScroll: MugenScroll,\n    SearchBar: SearchBar\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AAEA;AACAA,MADA,kBACA;AACA;AACA;AACAC,2BADA;AAEAC,eAFA;AAGAC,cAHA;AAIAC,eAJA;AAKAC,iBALA;AAMAC,kBANA;AAOAC;AAPA;AASA,GAZA;AAaAC,SAbA,qBAaA;AAAA;;AACA;AACAC;AACA;AACAC;AACA,KAHA;AAIAD;AACA;AACAC;AACA,KAHA;AAIAD;AACA;AACA;;AACA;AACA;AADA;;AAEA;AACA,KANA;AAOA,GA9BA;AA+BAE;AACAC,aADA,uBACA;AACA;;AACA;AACA;AACA;;AACA;AACA,KAPA;AAQAC,YARA,sBAQA;AACA;AACA;AACA;AACA;AACA,KAbA;AAcAC,eAdA,yBAcA;AACAJ;AACAA;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA,SALA,MAMA;AAAA;AACA;AACA;AACA;AACA;AACA,SALA,MAMA;AAAA;AACA;AACA;AACA;AACA;AACA,SALA,MAMA;AAAA;AACAA;AACAA;AACAA;;AACA;AACA;AACA;AACA;AACAA;AACA,WALA,MAMA;AACA;AACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SArCA,MAsCA;AACA;AACA;AACA;AACA;;AACA;AACA;AAhFA,GA/BA;AAiHAK;AAAAC;AAAAC;AAAA;AAjHA","names":["data","receivedClickCount","posts","count","flag","keyword","pushcount","loading","created","EventBus","console","methods","fetchData","getPosts","searchPosts","components","MugenScroll","SearchBar"],"sourceRoot":"src/views","sources":["Grid.vue"],"sourcesContent":["<template>\n  <v-app>\n    <SearchBar />\n      <v-row id=\"vrow\">\n        <v-col id=\"CARD\" v-for=\"(post, index) in posts\" :key=\"index\">\n        <v-card  id=\"cd\" class=\"text-center\" style=\"height: flex; width: 18rem;\">\n          <img id=\"IMG\" v-bind:src=\"post.img\" alt style=\"width:280px; height:280px;\">\n          <div class=\"card-body\">\n            <v-card class=\"text-left\" title id=\"Title\"><pre><strong>{{ post.title }}</strong>       {{\"스트리머: \"+post.streamer}}</pre></v-card>\n            <v-card-subtitle class=\"text-left\"> {{\"설명: \"+post.description}}<br>\n            <pre>{{\"제작자: \"+post.maker}}              <v-btn color=\"red\" id=\"click\" icon><v-icon>mdi-heart</v-icon></v-btn> {{ count }}</pre>\n            </v-card-subtitle>\n          </div>\n        </v-card>\n        </v-col>  \n      </v-row>\n      <mugen-scroll :handler=\"fetchData\" :should-handle=\"!loading\">\n      loading...\n      </mugen-scroll>\n  </v-app>\n</template>\n\n<script>\nimport SearchBar from '../components/SearchBar.vue'\nimport MugenScroll from 'vue-mugen-scroll'\nimport nftData from '../js/nftData' \nimport EventBus from '../js/EventBus'\n\nexport default {\n    data() {\n      // do not run handler when it's loading\n      return {\n        receivedClickCount: 0,\n          posts: [],\n          count: 0,\n          flag: 100,\n          keyword: '',\n          pushcount: 0,\n          loading: false,\n      }\n    },\n    created(){\n        this.getPosts();\n        EventBus.$on('use-eventbus', (clickedCount)=>{\n          this.receivedClickCount=clickedCount;\n          console.log(\"이벤트 잘 받았음\"+clickedCount);\n        });\n        EventBus.$on('event-flag', (flag)=>{\n          this.flag=flag;\n          console.log(flag);\n        });\n        EventBus.$on('event-keyword', (keyword)=>{\n          this.keyword=keyword;\n          var length = nftData.length * this.pushcount;\n            for(var i=0; i < length; i++)\n              this.posts.pop(nftData[i])\n            this.searchPosts();\n        });\n    },\n    methods: {\n      fetchData() {\n        this.loading = true\n        for(var i=0; i < 30; i++) {\n              this.posts.push(nftData[i])\n        }\n        this.loading = false\n      },\n      getPosts() {  \n          for(var i=0; i < nftData.length; i++) {\n            this.pushcount = this.posts.length + i\n              this.posts.push(nftData[i])\n          }\n      },\n      searchPosts(){\n          console.log(\"키워드:\"+this.keyword);\n          console.log(\"플래그:\"+this.flag);\n          for(var i=0; i < nftData.length; i++) {\n            if(this.flag==1){  //1은 제목\n              if ((nftData[i].title).includes(this.keyword)){\n                this.posts.push(nftData[i])\n                this.pushcount++;\n                }\n            }\n            else if(this.flag==2){  //2는 스트리머\n              if ((nftData[i].streamer).includes(this.keyword)){\n                this.posts.push(nftData[i])\n                this.pushcount++;\n                }\n            }\n            else if(this.flag==3){  //3는 등록자\n              if ((nftData[i].maker).includes(this.keyword)){\n                this.posts.push(nftData[i])\n                this.pushcount++;\n                }\n            }\n            else if(this.flag==0){  //0은 통합검색\n                console.log(nftData[i].title.includes(this.keyword)+\"타이틀\")\n                console.log(nftData[i].streamer.includes(this.keyword)+\"스트리머\")\n                console.log(nftData[i].maker.includes(this.keyword)+\"메이커\")\n                if(((nftData[i].title.includes(this.keyword))||(nftData[i].streamer.includes(this.keyword)) )||(nftData[i].maker.includes(this.keyword))){\n                  this.posts.push(nftData[i])\n                  this.pushcount++;\n                  this.count++;\n                  console.log(this.count+\"가능\")\n                }\n                else{\n                  this.count++;\n                  console.log(this.count+\"결과가 없어요.\");\n                }\n                /*\n                if ((nftData[i].title).includes(this.keyword)){\n                  this.posts.push(nftData[i])\n                  this.pushcount++;\n                  this.count++;\n                  console.log(this.count+\"title 가능\")\n                }\n                else if ((nftData[i].streamer).includes(this.keyword)){\n                  this.posts.push(nftData[i])\n                  this.pushcount++;\n                  this.count++;\n                  console.log(this.count+\"streamer 가능\")\n                }\n                else if ((nftData[i].maker).includes(this.keyword)){\n                  this.posts.push(nftData[i])\n                  this.pushcount++;\n                  this.count++;\n                  console.log(this.count+\"maker 가능\")\n                }\n                else{\n                  this.count++;\n                  console.log(this.count+\"결과가 없어요.\");\n                }*/\n            }\n            else{\n              this.posts.push(nftData[i])\n              this.pushcount++;\n              }\n          }\n          this.loading = true\n      }\n    },\n    components: {MugenScroll,SearchBar}\n}\n</script>\n<style scoped>\n  #vrow{\n    overflow: hidden;\n    margin:0;\n    background-image: url(\"../assets/bgg.jpg\");\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center;\n  }\n  #Title{ /* 카드 타이틀*/\n    padding-left: 15px;\n    font-size: 18px;\n    background-color: rgb(20, 20, 20);\n    color:white;\n  }\n  #CARD{\n    padding : 47px;\n  }\n  #IMG{\n    height: flex;\n    text-align: center;\n  }\n  #cd{  /* 카드 배경*/\n    background-color:rgb(30, 30, 30);\n    color:white;\n  }\n</style>"]},"metadata":{},"sourceType":"module"}