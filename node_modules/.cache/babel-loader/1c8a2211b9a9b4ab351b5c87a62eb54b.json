{"ast":null,"code":"import \"core-js/modules/es.object.keys.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Grid from '../views/Grid.vue';\nexport default {\n  data: function data() {\n    return {\n      searchkeyword: '',\n      // 검색키워드\n      searchfinish: false,\n      // 검색완료시 true로 바뀌고, 이때부터 표 생성\n      searchoption: ['제목', '스트리머', '등록자'],\n      // 검색옵션\n      searchoptionselected: '제목',\n      // 검색옵션값 받아오기, 기본값은 제목으로 지정\n      searchcnt: 0,\n      // 검색된 게시글 갯수\n      contentlist: [] // 게시글 리스트\n\n    };\n  },\n  movetocontent: function movetocontent(boardnum, id) {\n    // 검색된 게시글 클릭시 해당 게시글로 이동\n    window.location.href = 'http://127.0.0.1:8080/board/' + boardnum + '/content?id=' + id;\n  },\n  searchstart: function searchstart() {\n    var _this = this;\n\n    // 검색버튼 눌렀을때 실행\n    if (this.searchkeyword == '') {\n      alert('키워드가 없습니다!');\n    } else {\n      axios({\n        url: \"http://127.0.0.1:52273/content/search/\",\n        method: \"POST\",\n        data: {\n          // 선택된 검색옵션과 검색키워드 넘겨줌\n          searchoption: this.searchoptionselected,\n          searchkeyword: this.searchkeyword\n        }\n      }).then(function (res) {\n        _this.contentlist = res.data;\n        _this.searchcnt = _this.contentlist[Object.keys(_this.contentlist).length - 1].cnt;\n\n        _this.contentlist.pop();\n\n        alert('검색완료!');\n        _this.searchfinish = true;\n        _this.searchkeyword = '';\n      }).catch(function (err) {\n        alert(err);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACAA,MADA,kBACA;AACA;AACAC,uBADA;AACA;AACAC,yBAFA;AAEA;AACAC,yCAHA;AAGA;AACAC,gCAJA;AAIA;AACAC,kBALA;AAKA;AACAC,qBANA,CAMA;;AANA;AAQA,GAVA;AAWAC,eAXA,yBAWAC,QAXA,EAWAC,EAXA,EAWA;AAAA;AACAC;AACA,GAbA;AAcAC,aAdA,yBAcA;AAAA;;AAAA;AACA;AACAC;AACA,KAFA,MAEA;AACAC;AACAC,qDADA;AAEAC,sBAFA;AAGAf;AAAA;AACAG,iDADA;AAEAF;AAFA;AAHA,SAOAe,IAPA,CAOA;AACA;AACA;;AACA;;AACAJ;AACA;AACA;AACA,OAdA,EAcAK,KAdA,CAcA;AACAL;AACA,OAhBA;AAiBA;AACA;AApCA","names":["data","searchkeyword","searchfinish","searchoption","searchoptionselected","searchcnt","contentlist","movetocontent","boardnum","id","window","searchstart","alert","axios","url","method","then","catch"],"sourceRoot":"src/components","sources":["SearchBar.vue"],"sourcesContent":["<template>\r\n  <v-card\r\n    color=\"blue-grey darken-1\"\r\n    dark\r\n    :loading=\"isUpdating\"\r\n  >\r\n    <v-row :style=\"{marginTop: '50px'}\">\r\n      <v-col cols=\"12\" md=\"2\" />\r\n        <v-col cols=\"12\" md=\"2\"> <!-- 아래 v-select 부분이 카테고리 부분-->\r\n          <v-select\r\n              :items=\"searchoption\"\r\n              v-model=\"searchoptionselected\"\r\n              :style=\"{width:'90px', marginLeft:'90px'}\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"4\">\r\n          <v-text-field v-model=\"searchkeyword\" dense outlined label=\"검색키워드\" \r\n            full-width :style=\"{marginTop:'10px'}\"/>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"1\">\r\n          <v-btn @click=\"searchstart\" :style=\"{marginTop:'10px'}\">검색</v-btn>\r\n        </v-col>\r\n        <v-col cols=\"12\" md=\"3\" />\r\n    </v-row>\r\n\r\n    <v-row v-if=\"searchfinish===true\" :style=\"{marginTop:'0px'}\">\r\n      <v-col cols=\"12\" md=\"5\"/>\r\n      <v-col cols=\"12\" md=\"2\">\r\n          <div style=\"font-size: x-large\">검색결과 : {{searchcnt}} 개</div>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"5\"/>\r\n    </v-row>\r\n      <!-- 여기서부터는 게시판 페이지와 거의 일치, 검색완료시에만 표가 나타나게 했고, 게시판 번호 표시 -->\r\n    <v-row v-if=\"searchfinish===true\">\r\n      <v-simple-table style=\"width: 100%;\">\r\n        <thead>\r\n          <tr style=\"font-weight: bolder;\">\r\n            <td style=\"width:10%; font-size: x-large;\">게시판</td>\r\n            <td style=\"width:20%; font-size: x-large;\">작성자</td>\r\n            <td style=\"width:50%; font-size: x-large;\">제목</td>\r\n            <td style=\"width:20%; font-size: x-large;\">작성일</td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in contentlist\" :key=\"item.id\" @click=\"movetocontent(item.boardnum, item.id)\">\r\n            <td>{{item.boardnum}}</td>\r\n            <td>{{item.writer}}</td>\r\n            <td>{{item.title}}</td>\r\n            <td>{{item.createdAt.split('T')[0]}}</td>\r\n          </tr>\r\n        </tbody>\r\n      </v-simple-table>\r\n    </v-row>\r\n    <v-divider></v-divider>\r\n    <v-card-actions></v-card-actions>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport Grid from '../views/Grid.vue'\r\n  export default {\r\n    data() {\r\n    return {\r\n      searchkeyword: '',\t\t\t// 검색키워드\r\n      searchfinish: false,\t\t// 검색완료시 true로 바뀌고, 이때부터 표 생성\r\n      searchoption: ['제목','스트리머','등록자'],\t// 검색옵션\r\n      searchoptionselected: '제목',\t// 검색옵션값 받아오기, 기본값은 제목으로 지정\r\n      searchcnt: 0,\t\t\t// 검색된 게시글 갯수\r\n      contentlist: [],\t\t\t// 게시글 리스트\r\n    }\r\n  },\r\n  movetocontent(boardnum, id) {\t// 검색된 게시글 클릭시 해당 게시글로 이동\r\n\twindow.location.href = 'http://127.0.0.1:8080/board/' + boardnum + '/content?id=' + id\r\n},\r\nsearchstart(){\t\t\t// 검색버튼 눌렀을때 실행\r\n\tif(this.searchkeyword == '') {\r\n\t\talert('키워드가 없습니다!');\r\n\t} else {\r\n\t\taxios({\r\n        \turl: \"http://127.0.0.1:52273/content/search/\",\r\n          \tmethod: \"POST\",\r\n          \tdata: {\t\t// 선택된 검색옵션과 검색키워드 넘겨줌\r\n            \tsearchoption: this.searchoptionselected,\r\n            \tsearchkeyword: this.searchkeyword,\r\n          \t},\r\n        }).then(res => {\r\n        \tthis.contentlist = res.data;\r\n        \tthis.searchcnt = this.contentlist[Object.keys(this.contentlist).length-1].cnt;\r\n        \tthis.contentlist.pop();\r\n        \talert('검색완료!');\r\n        \tthis.searchfinish = true;\r\n        \tthis.searchkeyword = '';\r\n        }).catch(err => {\r\n          alert(err);\r\n        });\r\n      }\r\n    },\r\n  }\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}